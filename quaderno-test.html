<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Quaderno test</title>
    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
    <style type="text/css">
      .button {
        margin-top: 1em;
        text-align: center;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="row" style="padding-top:20px;">
        <div class="col-lg-4">
          <a href="https://quaderno.io/docs/checkout/">Quaderno checkout docs</a>
        </div>
        <div class="col-lg-8">
          <div class="button">
            <a class="btn btn-primary btn-geocoder quadernoButton" href="" id="small">Small</a>
          </div>
          <div class="button">
            <a class="btn btn-primary btn-geocoder quadernoButton" href="" id="medium">Medium</a>
          </div>
          <div class="button">
            <a class="btn btn-primary btn-geocoder quadernoButton" href="" id="large">Large</a>
          </div>
        </div>
      </div>
        
    </div>
    
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script src="https://checkout.quaderno.io/checkout.js" type="text/javascript"></script>
    <script type="text/javascript">
      $(document).ready(function(){
        console.log("doc ready");
        var Qhandler = QuadernoCheckout.configure({
          key: 'pk_live_nEeUrimC9dDBQE8dNq5L',
          locale: 'en',
          callback: function(data) {
            console.log(data.details);
          }
        });
      
        $('.quadernoButton').on('click', function(e){
          var bid = this.id;     
          console.log('click '+ bid);
          var desc;
          var plan = 'pl_invoice_4500_0_month_eur';
          var amount;
          var currency = "EUR";
          if (bid == "small"){
            desc = "Small plan";
            amount = 4500;
            // plan = '';      
          }
          else if ( bid == "medium"){
            amount = 9000;
            desc = "Medium plan";
            // plan = '';      
          }
          else if (bid == "large"){
            amount = 90000;      
            desc = "Large plan";
            // plan = '';      
          }
          // Open Checkout with further options
          Qhandler.open({
      'amount': amount,
      'billing_address': 'true',
      'color': "#1A8865",
      'currency': currency,
      'description': desc,
      'gateway': 'stripe',
      'plan': plan,
      'quantity': 1,
      'taxes': 'included',
      'transaction-type': 'eservice',
      'type': 'subscription'
          });
          e.preventDefault();
        });
      });
    </script>
    
  </body>
</html>
