<!DOCTYPE html>
<html lang="en">  
  <head>
    <meta name='viewport' content='width=device-width, user-scalable=no initial-scale=1, maximum-scale=1'>
    <meta charset="utf-8">    
    <title>OpenCage geosearch demo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@opencage/geosearch-bundle/dist/css/autocomplete-theme-classic.min.css"/>
  </head>
  <body>
    <div class="container">
      <div class="row mt-md-5">
        <div class="col-2"></div>
        <div class="col-8">
          <a href="https://opencagedata.com"><img src="/img/opencage.png" height="100" width="200" alt="OpenCage"/></a>
        </div>        
        <div class="col-2"></div>
      </div>
      <div class="row mt-md-5">
        <div class="col-4"></div>
        <div class="col-4" id="output"></div>
        <div class="col-4"></div>        
      </di>      
      <div class="row mt-md-5">
        <div class="col-2"></div>
        <div class="col-8">
          <div id="place"></div>
        </div>        
        <div class="col-2"></div>        
      </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/@opencage/geosearch-bundle"></script>
<script>
  const handleSelect = (params) => {
    const { item } = params;
    console.log(item);
    // get lat and lon
    const text = item.geometry.lat+','+item.geometry.lng;
    document.getElementById("output").innerHTML = text;  
  };    
  opencage.algoliaAutocomplete({
    container: '#place',
    plugins: [
      opencage.OpenCageGeoSearchPlugin(
        {
          key: 'oc_gs_62210cb3acf44f10af69314623f221d5',
          language: 'de',
        },
        {
          onSelect: handleSelect,
        }  
      ),
    ],
  });
</script>
    
  </body>
</html>
