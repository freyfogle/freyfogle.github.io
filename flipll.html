<!DOCTYPE html>
<html lang="en">  
  <head>
    <meta charset="utf-8">
    <meta name='viewport' content='width=device-width, user-scalable=no initial-scale=1, maximum-scale=1'>

    <!-- meta desc -->
    <!-- social imgs -->
    
    <title>Flip coordinates</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
  </head>
  <body>
    <div class="container">
      <div class="row mt-md-5">
        <div class="col-2"></div>
        <div class="col-4">
          <h1>Flip coordinates</h1>
          Have lat,lng but need lng,lat? Or vice versa?
        </div>
        <div class="col-4 text-end">
          LOGO
        </div>        
        <div class="col-2"></div>
      </div>
      <div class="row mt-md-5">
        <div class="col-4"></div>
        <div class="col-4">
          <form id="coordsform">
            <label for="coords" class="form-label">Your coordinates</label> 
            <div class="input-group mb-3">
              <input type="text" id="coords" class="form-control" aria-describedby="coordsHelpBlock" value="52.3877830, 9.7334394">
              <button type="submit" class="btn btn-outline-primary">Flip</button>
            </div>
            <div id="coordsHelpBlock" class="form-text">
              in either lat,lng or lng,lat format
            </div>
          </form>  
        </div>        
        <div class="col-4"></div>        
      </div>
      <div class="row mt-md-5">
        <div class="col-2"></div>
        <div class="col-8" id="output">
          <table class="table table-striped">
            
            <thead>
              <tr>
                <th scope="col"></th>
                <th scope="col">latitude longitude</th>
                <th scope="col">longitude latitude</th>
              </tr>
            </thead>
            <tbody class="table-group-divider">
              <tr>
                <th scope="row">A,B</th>
                <td id="csv_latlng"></td>
                <td id="csv_lnglat"></td>
              </tr>
              <tr>
                <th scope="row">A/B</th>
                <td id="slash_latlng"></td>
                <td id="slash_lnglat"></td>
              </tr>              
            </tbody>
          </table>
            
          </div>
        </div>
        <div class="col-2"></div>        
      </div>
      <div class="row mt-md-5">
        <div class="col-2"></div>
        <div class="col-8">
          <div style="border-top: 1px solid #1A8865" class="pt-1">
            Â© 2022, <a href="https://opencagedata.com">OpenCage</a>
           </div>
        </div>
        <div class="col-2"></div>        
        </div>
      </div>
    </div>
    <!-- fathom tags -->
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
    <script type="text/javascript">

function as_csv(id, c1, c2){   $('#csv_'+id  ).html(c1+', '+c2); }
function as_slash(id, c1, c2){ $('#slash_'+id).html(c1+'/'+c2);  }


$(document).ready(function(){
  $('#coordsform').on('submit', function(e) {
    e.preventDefault();
    console.log('in submit');
    var coords = $("#coords").val();
    const nums = coords.split(', ');
    // error check numbers
    var n1 = nums[0];
    var n2 = nums[1];
    console.log('n1 '+n1);
    console.log('n2 '+n2);

    // if numbers invalid, error message
    // if valid time for output
    as_csv('latlng', n1, n2);
    as_csv('lnglat', n2, n1);

    as_slash('latlng', n1, n2);
    as_slash('lnglat', n2, n1);
  });
});      
    </script>  
  </body>
</html>
